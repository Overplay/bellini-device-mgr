<div class="container">
    <div class="row top15">

        <div class="col-sm-10 material-panel">
            <h1><i class="fa fa-television" aria-hidden="true" style="color: #999999"></i>&nbsp;All Installed OG Devices</h1>

            <h3 ng-if="!ogdevices.length" class="text-danger">No Devices Were Found</h3>

            <!-- show this if devices -->
            <div ng-if="ogdevices.length">
                <input type="text" ng-model="searchTerm" class="form-control" placeholder="Search devices...">
                <table class="table table-striped" ng-if="ogdevices.length">
                    <thead>
                    <tr>
                        <th></th>
                        <th>Name</th>
                        <th>UDID</th>
                        <!--<th>Venue UUID</th>-->
                        <th>Venue Name</th>
                        <th>Last Contact</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="device in ogdevices | filter:searchTerm">
                        <td>
                            <a ui-sref="devices.detail({ id: device.id} )"
                               class="btn btn-sm btn-warning">MORE INFO</a>
                        </td>
                        <td>{{ device.name }}</td>
                        <td>{{ device.deviceUDID}}</td>
                        <!--<td><span ng-class="{ 'text-danger': !device.atVenueUUID }">-->
                        <!--{{ device.atVenueUUID ? device.atVenueUUID : "Unassigned" }}-->
                        <!--</span>-->
                        <!--</td>-->
                        <td>{{ device.atVenue.id ? device.atVenue.name : '[missing or service down]' }}<br>
                            <span class="text-muted" {{ device.atVenue.address.city }}{{ device.atVenue.address.state ? ',':'' }}{{
                            device.atVenue.address.state }}
                        </td>
                        <td>{{ device.lastContactAgo() }}</td>

                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>

